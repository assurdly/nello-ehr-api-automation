var jsonData = pm.response.json();

pm.test("Response status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("User data is valid", function () {
    pm.expect(jsonData.status).to.eql("success");
    pm.expect(jsonData.user).to.be.an("object");
});

pm.test("User contains required fields", function () {
    pm.expect(jsonData.user._id).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.firstname).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.lastname).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.email).to.be.a("string").and.to.include("@").and.to.include(".");
    pm.expect(jsonData.user.phone).to.be.a("string").and.to.not.include("number");
    pm.expect(jsonData.user.office).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.office_uuid).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.role).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.department).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.uuid).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.user.isActive).to.be.a("boolean").and.to.not.be.null;;
    pm.expect(jsonData.user.dob).to.be.a("string").and.to.have.lengthOf(10);
});
