var jsonData = pm.response.json();

pm.test("Response status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Non-clinical staff data is valid", function () {
    pm.expect(jsonData.status).to.eql("success");
    pm.expect(jsonData.nonclinicalstaff).to.be.an("array").and.to.have.length.above(0);
});

pm.test("Non-clinical staff member contains required fields", function () {
    pm.expect(jsonData.nonclinicalstaff[0]).to.be.an("object").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0]._id).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].firstname).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].lastname).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].email).to.be.a("string").and.to.include("@").and.to.include(".");
    pm.expect(jsonData.nonclinicalstaff[0].phone).to.be.a("string").and.to.not.include("number");
    pm.expect(jsonData.nonclinicalstaff[0].office).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].office_uuid).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].role).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].department).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].uuid).to.be.a("string").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].isActive).to.be.a("boolean").and.to.not.be.null;;
    pm.expect(jsonData.nonclinicalstaff[0].aos).to.be.a("string").and.to.not.be.null;;
    pm.expect(Number(jsonData.nonclinicalstaff[0].fee)).to.be.a("number").and.to.be.at.least(0);
    pm.expect(jsonData.nonclinicalstaff[0].dob).to.be.a("string").and.to.have.lengthOf(10);
});
